<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../umd/ffc-sdk.js"></script>
    <!-- <script async data-ffc-client="OWE2LTZiOWItNCUyMDIxMTExNTA5MDY1Ml9fNV9fMjhfXzU2X19kZWZhdWx0X2VmNzU2" src="../umd/ffc-sdk.js"></script> -->
    <!-- <script async data-ffc-client='YzhlLTFmMGItNCUyMDIxMTExNTA3Mzk1MV9fMTZfXzIzX180N19fZGVmYXVsdF9mOGIzYQ==' src='../umd/ffc-sdk.js'></script> -->
    <title>feature-flags.co</title>
</head>

<body style="background-color: rgb(217 239 233);">
    <div class="welcome"><span>欢迎新同学</span> <a href="#">Onboarding</a></div>
    <div class="welcomeb"><span>欢迎新同学b</span> <a href="#">Onboardingb</a></div>
    <div id="hide-element" class="anniu">隐藏我</div>
    <div id="activate-devmode" class="anniu">activate devmode</div>
    <div id="show-devmode-editor" class="anniu">display dev mode editor</div>
    <div id="quit-devmode" class="anniu">quit devmode</div>
    <div id="color-ff">COLOR</div>
    <style>
        .row {
            margin-top: 20px;
            text-align: center;
        }

        #version-a {
            display: none;
        }

        #version-b {
            display: none;
        }

        #version-c {
            display: none;
        }
    </style>

    <script type="text/javascript">


     window.onload = async (event) => {
        const option = {
            secret: 'MzZlLTY1MTAtNCUyMDIxMTEwMTE0NTIwNF9fNV9fNl9fMTJfX2RlZmF1bHRfYzVlNzU=', // user your own env secret
            api: 'https://ffc-api-ce2-dev.chinacloudsites.cn',
            anonymous: true,
            // devModePassword: '123abc',
            // user: {
            //     id: '123',
            //     userName: '123',
            //     email:'123@aa.com'
            // }
        };

        Ffc.init(option);

        // Ffc.on('ready', (data) => {
        //     console.log(data);
        // })

        // let zerocode = Ffc.boolVariation('测试', true);
        // if (zerocode === true) {
        //     document.getElementById('hide-element').style.display = 'block';
        // } else {
        //     document.getElementById('hide-element').style.display = 'none';
        // }

        // Ffc.on('ff_update:测试', (d) => {
        //     let zerocode = Ffc.boolVariation('测试', true);
        //     if (zerocode === true) {
        //         document.getElementById('hide-element').style.display = 'block';
        //     } else {
        //         document.getElementById('hide-element').style.display = 'none';
        //     }
        // });
        
        //let userName = Date.now();

        // 初始化sdk，传入环境Secret Key和用户信息
        //FFCJsClient.initialize('MzZlLTY1MTAtNCUyMDIxMTEwMTE0NTIwNF9fNV9fNl9fMTJfX2RlZmF1bHRfYzVlNzU=', null, {baseUrl: 'https://ffc-api-ce2-dev.chinacloudsites.cn'});

        // 初始化用户信息，通常这一步会在登录后被调用
        // FFCJsClient.initUserInfo({
        //     userName: 'sdk-sample-js-1252',
        //     email: 'abc@myemail.com',
        //     key: 'sdk-sample-js-1252',
        //     customizeProperties: [
        //         {
        //             name: "外放地址",
        //             value: "?from=zhihu&group=pm"
        //         }
        //     ]
        // });
        
      


        // let data = [{
        //     type: 'Click',
        //     route: window.location.href,
        //     eventName: 'click event'
        // }];

        // FFCJsClient.trackAsync(data);

        // data = [{
        //     type: 'PageView',
        //     route: window.location.href,
        //     eventName: 'pageview event'
        // }];

        // FFCJsClient.trackAsync(data);
        // document.addEventListener("click", async function (e) {
        //     if (e.target && e.target.innerText == '使用文档' ||
        //         e.target && e.target.innerText == '开始使用') {

        //         let rt = await FFCJsClient.trackCustomEventAsync([
        //             {
        //                 eventName: "开始使用点击事件"
        //             }
        //         ]);
        //         if (rt == true)
        //             alert("事件发送成功");
        //         else
        //             alert("事件发送失败");
        //     }
        // });

        // var result = {};
        // for(let i = 500; i < 1000; i++) {
        //     FFCJsClient.initUserInfo({
        //         userName: `sdk-sample-js-${i}`,
        //         email: `sdk-sample-js-${i}@myemail.com`,
        //         key: `sdk-sample-js-${i}`
        //     });
            
        //     let variation = FFCJsClient.variation('kaiguan2', 'bbbbb');
        //     if (!result[variation]) {
        //         result[variation] = 0;
        //     }

        //     result[variation] = result[variation] + 1;
        // }

        // console.log(result);
     }
    </script>
</body>

</html>